# Uncomment this line to define a global platform for your project
platform :ios, '12.0' # Aseguramos iOS 12.0 para ARKit y Flutter moderno

# CocoaPods no usa automáticamente los módulos de frameworks.
# Usa esto para la versión moderna de la integración de Swift/Xcode.
abstract_target 'Runner' do
  use_frameworks!
  
  # Este es el código estándar para incluir los plugins de Flutter
  flutter_install_all_ios_pods File.join(File.dirname(__FILE__), '.ios_symlinks', 'plugins')

  target 'Runner' do
    # Incluimos los pods (dependencias) generadas por los plugins de Flutter
    # Este 'pod' es la dependencia principal de Flutter para iOS
    pod 'Flutter', :path => 'Flutter'
    pod 'FlutterPluginRegistrant', :path => 'Flutter'
# ✅ AGREGAR: Dependencias de Firebase
    # Asumo que necesita Core y Analytics. Agregue cualquier otro servicio aquí.
    pod 'Firebase/Core'
    pod 'Firebase/Analytics'
    pod 'FirebaseAnalyticsWithoutAdId'
    # Si desea agregar más servicios, por ejemplo:
    # pod 'Firebase/Firestore' 
    # pod 'Firebase/Crashlytics'
    # La línea para el Podfile específico de la configuración de Firebase
    # si usas Swift/Objective-C nativo. Para Flutter, `flutter_install_all_ios_pods` lo maneja.

  end

  # Post-install hook necesario para Flutter
  post_install do |installer|
    installer.pods_project.targets.each do |target|
      flutter_additional_ios_build_settings(target)
    end
  end

end